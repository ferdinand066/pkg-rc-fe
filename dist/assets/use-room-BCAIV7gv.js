import{u as t}from"./useQuery-BxF_mFYc.js";import{B as a}from"./index-DNBD1AVp.js";import{i as e}from"./isValid-5aXsojdQ.js";const s="https://booking-api.parokipik.org/general/room";class o extends a{static async getRooms(t){const a=await this._get(`${s}`,t);return a?.data?.rooms}static async getOneRoom(t){if(!t)return null;const a=await this._get(`${s}/${t}`);return a?.data?.room}static async getRoomAvailability(t,a){const e=await this._get(`${s}/availability/${t}`,a);return e?.data?.slots??[]}}const i=(a,e,s,i=!0)=>{const{data:r,status:n}=t({queryKey:["general/room",{...a,paginate:s},e],queryFn:()=>o.getRooms({...a,...e,paginate:s}),enabled:i});return{data:r,status:n}},r=(a,s)=>{const i=!!a&&!!s.borrowing_date&&e(new Date(s.borrowing_date)),{data:r,status:n}=t({queryKey:["genera/room/availibility",a,s],queryFn:()=>o.getRoomAvailability(a,s),enabled:i&&(s?.check_schedule??!1)});return{data:r,status:n}};export{r as a,i as u};
