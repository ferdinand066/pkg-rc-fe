import{r as e,R as r,j as t,x as s,o as a}from"./index-CFS_nyTF.js";const i=e.forwardRef((function(r,t){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},r),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));var n=e=>"checkbox"===e.type,o=e=>e instanceof Date,l=e=>null==e;const u=e=>"object"==typeof e;var d=e=>!l(e)&&!Array.isArray(e)&&u(e)&&!o(e),c=e=>d(e)&&e.target?n(e.target)?e.target.checked:e.target.value:e,f=(e,r)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(r)),m=e=>{const r=e.constructor&&e.constructor.prototype;return d(r)&&r.hasOwnProperty("isPrototypeOf")},y="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function g(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else{if(y&&(e instanceof Blob||e instanceof FileList)||!t&&!d(e))return e;if(r=t?[]:{},t||m(e))for(const t in e)e.hasOwnProperty(t)&&(r[t]=g(e[t]));else r=e}return r}var p=e=>Array.isArray(e)?e.filter(Boolean):[],h=e=>void 0===e,v=(e,r,t)=>{if(!r||!d(e))return t;const s=p(r.split(/[,[\].]+?/)).reduce(((e,r)=>l(e)?e:e[r]),e);return h(s)||s===e?h(e[r])?t:e[r]:s},_=e=>"boolean"==typeof e;const b={BLUR:"blur",FOCUS_OUT:"focusout"},x={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},A="max",F="min",V="maxLength",S="minLength",w="pattern",k="required",D="validate",j=r.createContext(null),C=()=>r.useContext(j);var N=e=>d(e)&&!Object.keys(e).length,O=e=>Array.isArray(e)?e:[e];function E(e){const t=r.useRef(e);t.current=e,r.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}var U=e=>"string"==typeof e,B=(e,r,t,s,a)=>U(e)?(s&&r.watch.add(e),v(t,e,a)):Array.isArray(e)?e.map((e=>(s&&r.watch.add(e),v(t,e)))):(s&&(r.watchAll=!0),t),L=e=>/^\w*$/.test(e),T=e=>p(e.replace(/["|']|\]/g,"").split(/\.|\[/)),M=(e,r,t)=>{let s=-1;const a=L(r)?[r]:T(r),i=a.length,n=i-1;for(;++s<i;){const r=a[s];let i=t;if(s!==n){const t=e[r];i=d(t)||Array.isArray(t)?t:isNaN(+a[s+1])?{}:[]}e[r]=i,e=e[r]}return e},R=(e,r,t,s,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:a||!0}}:{},I=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{const t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))},$=(e,r,t={})=>t.shouldFocus||h(t.shouldFocus)?t.focusName||`${e}.${h(t.focusIndex)?r:t.focusIndex}.`:"",q=e=>({isOnSubmit:!e||e===x.onSubmit,isOnBlur:e===x.onBlur,isOnChange:e===x.onChange,isOnAll:e===x.all,isOnTouch:e===x.onTouched}),P=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some((r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))));const W=(e,r,t,s)=>{for(const a of t||Object.keys(e)){const t=v(e,a);if(t){const{_f:e,...i}=t;if(e){if(e.refs&&e.refs[0]&&r(e.refs[0],a)&&!s)break;if(e.ref&&r(e.ref,e.name)&&!s)break;W(i,r)}else d(i)&&W(i,r)}}};var H=(e,r,t)=>{const s=p(v(e,t));return M(s,"root",r[t]),M(e,t,s),e},z=e=>"file"===e.type,G=e=>"function"==typeof e,J=e=>{if(!y)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},K=e=>U(e),Q=e=>"radio"===e.type,X=e=>e instanceof RegExp;const Y={value:!1,isValid:!1},Z={value:!0,isValid:!0};var ee=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!h(e[0].attributes.value)?h(e[0].value)||""===e[0].value?Z:{value:e[0].value,isValid:!0}:Z:Y}return Y};const re={isValid:!1,value:null};var te=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),re):re;function se(e,r,t="validate"){if(K(e)||Array.isArray(e)&&e.every(K)||_(e)&&!e)return{type:t,message:K(e)?e:"",ref:r}}var ae=e=>d(e)&&!X(e)?e:{value:e,message:""},ie=async(e,r,t,s,a)=>{const{ref:i,refs:o,required:u,maxLength:c,minLength:f,min:m,max:y,pattern:g,validate:p,name:b,valueAsNumber:x,mount:j,disabled:C}=e._f,O=v(r,b);if(!j||C)return{};const E=o?o[0]:i,B=e=>{s&&E.reportValidity&&(E.setCustomValidity(_(e)?"":e||""),E.reportValidity())},L={},T=Q(i),M=n(i),I=T||M,$=(x||z(i))&&h(i.value)&&h(O)||J(i)&&""===i.value||""===O||Array.isArray(O)&&!O.length,q=R.bind(null,b,t,L),P=(e,r,t,s=V,a=S)=>{const n=e?r:t;L[b]={type:e?s:a,message:n,ref:i,...q(e?s:a,n)}};if(a?!Array.isArray(O)||!O.length:u&&(!I&&($||l(O))||_(O)&&!O||M&&!ee(o).isValid||T&&!te(o).isValid)){const{value:e,message:r}=K(u)?{value:!!u,message:u}:ae(u);if(e&&(L[b]={type:k,message:r,ref:E,...q(k,r)},!t))return B(r),L}if(!($||l(m)&&l(y))){let e,r;const s=ae(y),a=ae(m);if(l(O)||isNaN(O)){const t=i.valueAsDate||new Date(O),n=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;U(s.value)&&O&&(e=o?n(O)>n(s.value):l?O>s.value:t>new Date(s.value)),U(a.value)&&O&&(r=o?n(O)<n(a.value):l?O<a.value:t<new Date(a.value))}else{const t=i.valueAsNumber||(O?+O:O);l(s.value)||(e=t>s.value),l(a.value)||(r=t<a.value)}if((e||r)&&(P(!!e,s.message,a.message,A,F),!t))return B(L[b].message),L}if((c||f)&&!$&&(U(O)||a&&Array.isArray(O))){const e=ae(c),r=ae(f),s=!l(e.value)&&O.length>+e.value,a=!l(r.value)&&O.length<+r.value;if((s||a)&&(P(s,e.message,r.message),!t))return B(L[b].message),L}if(g&&!$&&U(O)){const{value:e,message:r}=ae(g);if(X(e)&&!O.match(e)&&(L[b]={type:w,message:r,ref:i,...q(w,r)},!t))return B(r),L}if(p)if(G(p)){const e=se(await p(O,r),E);if(e&&(L[b]={...e,...q(D,e.message)},!t))return B(e.message),L}else if(d(p)){let e={};for(const s in p){if(!N(e)&&!t)break;const a=se(await p[s](O,r),E,s);a&&(e={...a,...q(s,a.message)},B(a.message),t&&(L[b]=e))}if(!N(e)&&(L[b]={ref:E,...e},!t))return L}return B(!0),L},ne=(e,r)=>[...e,...O(r)],oe=e=>Array.isArray(e)?e.map((()=>{})):void 0;function le(e,r,t){return[...e.slice(0,r),...O(t),...e.slice(r)]}var ue=(e,r,t)=>Array.isArray(e)?(h(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],de=(e,r)=>[...O(r),...O(e)];var ce=(e,r)=>h(r)?[]:function(e,r){let t=0;const s=[...e];for(const a of r)s.splice(a-t,1),t++;return p(s).length?s:[]}(e,O(r).sort(((e,r)=>e-r))),fe=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]};function me(e,r){const t=Array.isArray(r)?r:L(r)?[r]:T(r),s=1===t.length?e:function(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=h(e)?s++:e[r[s++]];return e}(e,t),a=t.length-1,i=t[a];return s&&delete s[i],0!==a&&(d(s)&&N(s)||Array.isArray(s)&&function(e){for(const r in e)if(e.hasOwnProperty(r)&&!h(e[r]))return!1;return!0}(s))&&me(e,t.slice(0,-1)),e}var ye=(e,r,t)=>(e[r]=t,e);function ge(e){const t=C(),{control:s=t.control,name:a,keyName:i="id",shouldUnregister:n}=e,[o,l]=r.useState(s._getFieldArray(a)),u=r.useRef(s._getFieldArray(a).map(I)),d=r.useRef(o),c=r.useRef(a),f=r.useRef(!1);c.current=a,d.current=o,s._names.array.add(a),e.rules&&s.register(a,e.rules),E({next:({values:e,name:r})=>{if(r===c.current||!r){const r=v(e,c.current);Array.isArray(r)&&(l(r),u.current=r.map(I))}},subject:s._subjects.array});const m=r.useCallback((e=>{f.current=!0,s._updateFieldArray(a,e)}),[s,a]);return r.useEffect((()=>{if(s._state.action=!1,P(a,s._names)&&s._subjects.state.next({...s._formState}),f.current&&(!q(s._options.mode).isOnSubmit||s._formState.isSubmitted))if(s._options.resolver)s._executeSchema([a]).then((e=>{const r=v(e.errors,a),t=v(s._formState.errors,a);(t?!r&&t.type||r&&(t.type!==r.type||t.message!==r.message):r&&r.type)&&(r?M(s._formState.errors,a,r):me(s._formState.errors,a),s._subjects.state.next({errors:s._formState.errors}))}));else{const e=v(s._fields,a);!e||!e._f||q(s._options.reValidateMode).isOnSubmit&&q(s._options.mode).isOnSubmit||ie(e,s._formValues,s._options.criteriaMode===x.all,s._options.shouldUseNativeValidation,!0).then((e=>!N(e)&&s._subjects.state.next({errors:H(s._formState.errors,e,a)})))}s._subjects.values.next({name:a,values:{...s._formValues}}),s._names.focus&&W(s._fields,((e,r)=>{if(s._names.focus&&r.startsWith(s._names.focus)&&e.focus)return e.focus(),1})),s._names.focus="",s._updateValid(),f.current=!1}),[o,a,s]),r.useEffect((()=>(!v(s._formValues,a)&&s._updateFieldArray(a),()=>{(s._options.shouldUnregister||n)&&s.unregister(a)})),[a,s,i,n]),{swap:r.useCallback(((e,r)=>{const t=s._getFieldArray(a);fe(t,e,r),fe(u.current,e,r),m(t),l(t),s._updateFieldArray(a,t,fe,{argA:e,argB:r},!1)}),[m,a,s]),move:r.useCallback(((e,r)=>{const t=s._getFieldArray(a);ue(t,e,r),ue(u.current,e,r),m(t),l(t),s._updateFieldArray(a,t,ue,{argA:e,argB:r},!1)}),[m,a,s]),prepend:r.useCallback(((e,r)=>{const t=O(g(e)),i=de(s._getFieldArray(a),t);s._names.focus=$(a,0,r),u.current=de(u.current,t.map(I)),m(i),l(i),s._updateFieldArray(a,i,de,{argA:oe(e)})}),[m,a,s]),append:r.useCallback(((e,r)=>{const t=O(g(e)),i=ne(s._getFieldArray(a),t);s._names.focus=$(a,i.length-1,r),u.current=ne(u.current,t.map(I)),m(i),l(i),s._updateFieldArray(a,i,ne,{argA:oe(e)})}),[m,a,s]),remove:r.useCallback((e=>{const r=ce(s._getFieldArray(a),e);u.current=ce(u.current,e),m(r),l(r),s._updateFieldArray(a,r,ce,{argA:e})}),[m,a,s]),insert:r.useCallback(((e,r,t)=>{const i=O(g(r)),n=le(s._getFieldArray(a),e,i);s._names.focus=$(a,e,t),u.current=le(u.current,e,i.map(I)),m(n),l(n),s._updateFieldArray(a,n,le,{argA:e,argB:oe(r)})}),[m,a,s]),update:r.useCallback(((e,r)=>{const t=g(r),i=ye(s._getFieldArray(a),e,t);u.current=[...i].map(((r,t)=>r&&t!==e?u.current[t]:I())),m(i),l([...i]),s._updateFieldArray(a,i,ye,{argA:e,argB:t},!0,!1)}),[m,a,s]),replace:r.useCallback((e=>{const r=O(g(e));u.current=r.map(I),m([...r]),l([...r]),s._updateFieldArray(a,[...r],(e=>e),{},!0,!1)}),[m,a,s]),fields:r.useMemo((()=>o.map(((e,r)=>({...e,[i]:u.current[r]||I()})))),[o,i])}}var pe=()=>{let e=[];return{get observers(){return e},next:r=>{for(const t of e)t.next&&t.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter((e=>e!==r))}}),unsubscribe:()=>{e=[]}}},he=e=>l(e)||!u(e);function ve(e,r){if(he(e)||he(r))return e===r;if(o(e)&&o(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const a of t){const t=e[a];if(!s.includes(a))return!1;if("ref"!==a){const e=r[a];if(o(t)&&o(e)||d(t)&&d(e)||Array.isArray(t)&&Array.isArray(e)?!ve(t,e):t!==e)return!1}}return!0}var _e=e=>"select-multiple"===e.type,be=e=>Q(e)||n(e),xe=e=>J(e)&&e.isConnected,Ae=e=>{for(const r in e)if(G(e[r]))return!0;return!1};function Fe(e,r={}){const t=Array.isArray(e);if(d(e)||t)for(const s in e)Array.isArray(e[s])||d(e[s])&&!Ae(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Fe(e[s],r[s])):l(e[s])||(r[s]=!0);return r}function Ve(e,r,t){const s=Array.isArray(e);if(d(e)||s)for(const a in e)Array.isArray(e[a])||d(e[a])&&!Ae(e[a])?h(r)||he(t[a])?t[a]=Array.isArray(e[a])?Fe(e[a],[]):{...Fe(e[a])}:Ve(e[a],l(r)?{}:r[a],t[a]):t[a]=!ve(e[a],r[a]);return t}var Se=(e,r)=>Ve(e,r,Fe(r)),we=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>h(e)?e:r?""===e?NaN:e?+e:e:t&&U(e)?new Date(e):s?s(e):e;function ke(e){const r=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):r.disabled))return z(r)?r.files:Q(r)?te(e.refs).value:_e(r)?[...r.selectedOptions].map((({value:e})=>e)):n(r)?ee(e.refs).value:we(h(r.value)?e.ref.value:r.value,e)}var De=(e,r,t,s)=>{const a={};for(const i of e){const e=v(r,i);e&&M(a,i,e._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:s}},je=e=>h(e)?e:X(e)?e.source:d(e)?X(e.value)?e.value.source:e.value:e,Ce=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ne(e,r,t){const s=v(e,t);if(s||L(t))return{error:s,name:t};const a=t.split(".");for(;a.length;){const s=a.join("."),i=v(r,s),n=v(e,s);if(i&&!Array.isArray(i)&&t!==s)return{name:t};if(n&&n.type)return{name:s,error:n};a.pop()}return{name:t}}var Oe=(e,r,t,s,a)=>!a.isOnAll&&(!t&&a.isOnTouch?!(r||e):(t?s.isOnBlur:a.isOnBlur)?!e:!(t?s.isOnChange:a.isOnChange)||e),Ee=(e,r)=>!p(v(e,r)).length&&me(e,r);const Ue={mode:x.onSubmit,reValidateMode:x.onChange,shouldFocusError:!0};function Be(e={}){let r,t={...Ue,...e},s={submitCount:0,isDirty:!1,isLoading:G(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},i=(d(t.defaultValues)||d(t.values))&&g(t.defaultValues||t.values)||{},u=t.shouldUnregister?{}:g(i),m={action:!1,mount:!1,watch:!1},A={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},S={values:pe(),array:pe(),state:pe()},w=q(t.mode),k=q(t.reValidateMode),D=t.criteriaMode===x.all,j=async e=>{if(V.isValid||e){const e=t.resolver?N((await R()).errors):await I(a,!0);e!==s.isValid&&S.state.next({isValid:e})}},C=(e,r)=>{(V.isValidating||V.validatingFields)&&((e||Array.from(A.mount)).forEach((e=>{e&&(r?M(s.validatingFields,e,r):me(s.validatingFields,e))})),S.state.next({validatingFields:s.validatingFields,isValidating:!N(s.validatingFields)}))},E=(e,r,t,s)=>{const n=v(a,e);if(n){const a=v(u,e,h(t)?v(i,e):t);h(a)||s&&s.defaultChecked||r?M(u,e,r?a:ke(n._f)):Q(e,a),m.mount&&j()}},L=(e,r,t,n,o)=>{let l=!1,u=!1;const d={name:e},c=!(!v(a,e)||!v(a,e)._f.disabled);if(!t||n){V.isDirty&&(u=s.isDirty,s.isDirty=d.isDirty=$(),l=u!==d.isDirty);const t=c||ve(v(i,e),r);u=!(c||!v(s.dirtyFields,e)),t||c?me(s.dirtyFields,e):M(s.dirtyFields,e,!0),d.dirtyFields=s.dirtyFields,l=l||V.dirtyFields&&u!==!t}if(t){const r=v(s.touchedFields,e);r||(M(s.touchedFields,e,t),d.touchedFields=s.touchedFields,l=l||V.touchedFields&&r!==t)}return l&&o&&S.state.next(d),l?d:{}},T=(t,a,i,n)=>{const o=v(s.errors,t),l=V.isValid&&_(a)&&s.isValid!==a;var u;if(e.delayError&&i?(u=()=>((e,r)=>{M(s.errors,e,r),S.state.next({errors:s.errors})})(t,i),r=e=>{clearTimeout(F),F=setTimeout(u,e)},r(e.delayError)):(clearTimeout(F),r=null,i?M(s.errors,t,i):me(s.errors,t)),(i?!ve(o,i):o)||!N(n)||l){const e={...n,...l&&_(a)?{isValid:a}:{},errors:s.errors,name:t};s={...s,...e},S.state.next(e)}},R=async e=>{C(e,!0);const r=await t.resolver(u,t.context,De(e||A.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return C(e),r},I=async(e,r,a={valid:!0})=>{for(const i in e){const n=e[i];if(n){const{_f:e,...o}=n;if(e){const o=A.array.has(e.name);C([i],!0);const l=await ie(n,u,D,t.shouldUseNativeValidation&&!r,o);if(C([i]),l[e.name]&&(a.valid=!1,r))break;!r&&(v(l,e.name)?o?H(s.errors,l,e.name):M(s.errors,e.name,l[e.name]):me(s.errors,e.name))}o&&await I(o,r,a)}}return a.valid},$=(e,r)=>(e&&r&&M(u,e,r),!ve(te(),i)),K=(e,r,t)=>B(e,A,{...m.mount?u:h(r)?i:U(e)?{[e]:r}:r},t,r),Q=(e,r,t={})=>{const s=v(a,e);let i=r;if(s){const t=s._f;t&&(!t.disabled&&M(u,e,we(r,t)),i=J(t.ref)&&l(r)?"":r,_e(t.ref)?[...t.ref.options].forEach((e=>e.selected=i.includes(e.value))):t.refs?n(t.ref)?t.refs.length>1?t.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((r=>r===e.value)):i===e.value))):t.refs[0]&&(t.refs[0].checked=!!i):t.refs.forEach((e=>e.checked=e.value===i)):z(t.ref)?t.ref.value="":(t.ref.value=i,t.ref.type||S.values.next({name:e,values:{...u}})))}(t.shouldDirty||t.shouldTouch)&&L(e,i,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&re(e)},X=(e,r,t)=>{for(const s in r){const i=r[s],n=`${e}.${s}`,l=v(a,n);!A.array.has(e)&&he(i)&&(!l||l._f)||o(i)?Q(n,i,t):X(n,i,t)}},Y=(e,r,t={})=>{const n=v(a,e),o=A.array.has(e),d=g(r);M(u,e,d),o?(S.array.next({name:e,values:{...u}}),(V.isDirty||V.dirtyFields)&&t.shouldDirty&&S.state.next({name:e,dirtyFields:Se(i,u),isDirty:$(e,d)})):!n||n._f||l(d)?Q(e,d,t):X(e,d,t),P(e,A)&&S.state.next({...s}),S.values.next({name:m.mount?e:void 0,values:{...u}})},Z=async e=>{m.mount=!0;const i=e.target;let n=i.name,o=!0;const l=v(a,n),d=e=>{o=Number.isNaN(e)||e===v(u,n,e)};if(l){let f,m;const y=i.type?ke(l._f):c(e),g=e.type===b.BLUR||e.type===b.FOCUS_OUT,p=!Ce(l._f)&&!t.resolver&&!v(s.errors,n)&&!l._f.deps||Oe(g,v(s.touchedFields,n),s.isSubmitted,k,w),h=P(n,A,g);M(u,n,y),g?(l._f.onBlur&&l._f.onBlur(e),r&&r(0)):l._f.onChange&&l._f.onChange(e);const _=L(n,y,g,!1),x=!N(_)||h;if(!g&&S.values.next({name:n,type:e.type,values:{...u}}),p)return V.isValid&&j(),x&&S.state.next({name:n,...h?{}:_});if(!g&&h&&S.state.next({...s}),t.resolver){const{errors:e}=await R([n]);if(d(y),o){const r=Ne(s.errors,a,n),t=Ne(e,a,r.name||n);f=t.error,n=t.name,m=N(e)}}else C([n],!0),f=(await ie(l,u,D,t.shouldUseNativeValidation))[n],C([n]),d(y),o&&(f?m=!1:V.isValid&&(m=await I(a,!0)));o&&(l._f.deps&&re(l._f.deps),T(n,m,f,_))}},ee=(e,r)=>{if(v(s.errors,r)&&e.focus)return e.focus(),1},re=async(e,r={})=>{let i,n;const o=O(e);if(t.resolver){const r=await(async e=>{const{errors:r}=await R(e);if(e)for(const t of e){const e=v(r,t);e?M(s.errors,t,e):me(s.errors,t)}else s.errors=r;return r})(h(e)?e:o);i=N(r),n=e?!o.some((e=>v(r,e))):i}else e?(n=(await Promise.all(o.map((async e=>{const r=v(a,e);return await I(r&&r._f?{[e]:r}:r)})))).every(Boolean),(n||s.isValid)&&j()):n=i=await I(a);return S.state.next({...!U(e)||V.isValid&&i!==s.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:s.errors}),r.shouldFocus&&!n&&W(a,ee,e?o:A.mount),n},te=e=>{const r={...m.mount?u:i};return h(e)?r:U(e)?v(r,e):e.map((e=>v(r,e)))},se=(e,r)=>({invalid:!!v((r||s).errors,e),isDirty:!!v((r||s).dirtyFields,e),isTouched:!!v((r||s).touchedFields,e),isValidating:!!v((r||s).validatingFields,e),error:v((r||s).errors,e)}),ae=(e,r,t)=>{const i=(v(a,e,{_f:{}})._f||{}).ref;M(s.errors,e,{...r,ref:i}),S.state.next({name:e,errors:s.errors,isValid:!1}),t&&t.shouldFocus&&i&&i.focus&&i.focus()},ne=(e,r={})=>{for(const n of e?O(e):A.mount)A.mount.delete(n),A.array.delete(n),r.keepValue||(me(a,n),me(u,n)),!r.keepError&&me(s.errors,n),!r.keepDirty&&me(s.dirtyFields,n),!r.keepTouched&&me(s.touchedFields,n),!r.keepIsValidating&&me(s.validatingFields,n),!t.shouldUnregister&&!r.keepDefaultValue&&me(i,n);S.values.next({values:{...u}}),S.state.next({...s,...r.keepDirty?{isDirty:$()}:{}}),!r.keepIsValid&&j()},oe=({disabled:e,name:r,field:t,fields:s,value:a})=>{if(_(e)){const i=e?void 0:h(a)?ke(t?t._f:v(s,r)._f):a;M(u,r,i),L(r,i,!1,!1,!0)}},le=(e,r={})=>{let s=v(a,e);const n=_(r.disabled);return M(a,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...r}}),A.mount.add(e),s?oe({field:s,disabled:r.disabled,name:e,value:r.value}):E(e,!0,r.value),{...n?{disabled:r.disabled}:{},...t.progressive?{required:!!r.required,min:je(r.min),max:je(r.max),minLength:je(r.minLength),maxLength:je(r.maxLength),pattern:je(r.pattern)}:{},name:e,onChange:Z,onBlur:Z,ref:n=>{if(n){le(e,r),s=v(a,e);const t=h(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,o=be(t),l=s._f.refs||[];if(o?l.find((e=>e===t)):t===s._f.ref)return;M(a,e,{_f:{...s._f,...o?{refs:[...l.filter(xe),t,...Array.isArray(v(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),E(e,!1,void 0,t)}else s=v(a,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!f(A.array,e)||!m.action)&&A.unMount.add(e)}}},ue=()=>t.shouldFocusError&&W(a,ee,A.mount),de=(e,r)=>async i=>{let n;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let o=g(u);if(S.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:r}=await R();s.errors=e,o=r}else await I(a);if(me(s.errors,"root"),N(s.errors)){S.state.next({errors:{}});try{await e(o,i)}catch(l){n=l}}else r&&await r({...s.errors},i),ue(),setTimeout(ue);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(s.errors)&&!n,submitCount:s.submitCount+1,errors:s.errors}),n)throw n},ce=(r,t={})=>{const n=r?g(r):i,o=g(n),l=N(r),d=l?i:o;if(t.keepDefaultValues||(i=n),!t.keepValues){if(t.keepDirtyValues)for(const e of A.mount)v(s.dirtyFields,e)?M(d,e,v(u,e)):Y(e,v(d,e));else{if(y&&h(r))for(const e of A.mount){const r=v(a,e);if(r&&r._f){const e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(J(e)){const r=e.closest("form");if(r){r.reset();break}}}}a={}}u=e.shouldUnregister?t.keepDefaultValues?g(i):{}:g(d),S.array.next({values:{...d}}),S.values.next({values:{...d}})}A={mount:t.keepDirtyValues?A.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!V.isValid||!!t.keepIsValid||!!t.keepDirtyValues,m.watch=!!e.shouldUnregister,S.state.next({submitCount:t.keepSubmitCount?s.submitCount:0,isDirty:!l&&(t.keepDirty?s.isDirty:!(!t.keepDefaultValues||ve(r,i))),isSubmitted:!!t.keepIsSubmitted&&s.isSubmitted,dirtyFields:l?[]:t.keepDirtyValues?t.keepDefaultValues&&u?Se(i,u):s.dirtyFields:t.keepDefaultValues&&r?Se(i,r):{},touchedFields:t.keepTouched?s.touchedFields:{},errors:t.keepErrors?s.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1})},fe=(e,r)=>ce(G(e)?e(u):e,r);return{control:{register:le,unregister:ne,getFieldState:se,handleSubmit:de,setError:ae,_executeSchema:R,_getWatch:K,_getDirty:$,_updateValid:j,_removeUnmounted:()=>{for(const e of A.unMount){const r=v(a,e);r&&(r._f.refs?r._f.refs.every((e=>!xe(e))):!xe(r._f.ref))&&ne(e)}A.unMount=new Set},_updateFieldArray:(e,r=[],t,n,o=!0,l=!0)=>{if(n&&t){if(m.action=!0,l&&Array.isArray(v(a,e))){const r=t(v(a,e),n.argA,n.argB);o&&M(a,e,r)}if(l&&Array.isArray(v(s.errors,e))){const r=t(v(s.errors,e),n.argA,n.argB);o&&M(s.errors,e,r),Ee(s.errors,e)}if(V.touchedFields&&l&&Array.isArray(v(s.touchedFields,e))){const r=t(v(s.touchedFields,e),n.argA,n.argB);o&&M(s.touchedFields,e,r)}V.dirtyFields&&(s.dirtyFields=Se(i,u)),S.state.next({name:e,isDirty:$(e,r),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else M(u,e,r)},_updateDisabledField:oe,_getFieldArray:r=>p(v(m.mount?u:i,r,e.shouldUnregister?v(i,r,[]):[])),_reset:ce,_resetDefaultValues:()=>G(t.defaultValues)&&t.defaultValues().then((e=>{fe(e,t.resetOptions),S.state.next({isLoading:!1})})),_updateFormState:e=>{s={...s,...e}},_disableForm:e=>{_(e)&&(S.state.next({disabled:e}),W(a,((r,t)=>{let s=e;const i=v(a,t);i&&_(i._f.disabled)&&(s||(s=i._f.disabled)),r.disabled=s}),0,!1))},_subjects:S,_proxyFormState:V,_setErrors:e=>{s.errors=e,S.state.next({errors:s.errors,isValid:!1})},get _fields(){return a},get _formValues(){return u},get _state(){return m},set _state(e){m=e},get _defaultValues(){return i},get _names(){return A},set _names(e){A=e},get _formState(){return s},set _formState(e){s=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:re,register:le,handleSubmit:de,watch:(e,r)=>G(e)?S.values.subscribe({next:t=>e(K(void 0,r),t)}):K(e,r,!0),setValue:Y,getValues:te,reset:fe,resetField:(e,r={})=>{v(a,e)&&(h(r.defaultValue)?Y(e,g(v(i,e))):(Y(e,r.defaultValue),M(i,e,g(r.defaultValue))),r.keepTouched||me(s.touchedFields,e),r.keepDirty||(me(s.dirtyFields,e),s.isDirty=r.defaultValue?$(e,g(v(i,e))):$()),r.keepError||(me(s.errors,e),V.isValid&&j()),S.state.next({...s}))},clearErrors:e=>{e&&O(e).forEach((e=>me(s.errors,e))),S.state.next({errors:e?s.errors:{}})},unregister:ne,setError:ae,setFocus:(e,r={})=>{const t=v(a,e),s=t&&t._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),r.shouldSelect&&e.select())}},getFieldState:se}}function Le(e={}){const t=r.useRef(),s=r.useRef(),[a,i]=r.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Be(e),formState:a});const n=t.current.control;return n._options=e,E({subject:n._subjects.state,next:e=>{((e,r,t,s)=>{t(e);const{name:a,...i}=e;return N(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find((e=>r[e]===x.all))})(e,n._proxyFormState,n._updateFormState)&&i({...n._formState})}}),r.useEffect((()=>n._disableForm(e.disabled)),[n,e.disabled]),r.useEffect((()=>{if(n._proxyFormState.isDirty){const e=n._getDirty();e!==a.isDirty&&n._subjects.state.next({isDirty:e})}}),[n,a.isDirty]),r.useEffect((()=>{e.values&&!ve(e.values,s.current)?(n._reset(e.values,n._options.resetOptions),s.current=e.values,i((e=>({...e})))):n._resetDefaultValues()}),[e.values,n]),r.useEffect((()=>{e.errors&&n._setErrors(e.errors)}),[e.errors,n]),r.useEffect((()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()})),r.useEffect((()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})}),[e.shouldUnregister,n]),t.current.formState=((e,r,t,s=!0)=>{const a={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const t=i;return r._proxyFormState[t]!==x.all&&(r._proxyFormState[t]=!s||x.all),e[t]}});return a})(a,n),t.current}var Te=function(r){var t=r.as,s=r.errors,a=r.name,i=r.message,n=r.render,o=function(e,r){if(null==e)return{};var t,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)r.indexOf(t=i[s])>=0||(a[t]=e[t]);return a}(r,["as","errors","name","message","render"]),l=C(),u=v(s||l.formState.errors,a);if(!u)return null;var d=u.message,c=u.types,f=Object.assign({},o,{children:d||i});return e.isValidElement(t)?e.cloneElement(t,f):n?n({message:d||i,messages:c}):e.createElement(t||e.Fragment,f)};const Me=({name:e,errors:r})=>t.jsxs("div",{className:"flex flex-row gap-0.5 text-sm text-error items-center",children:[t.jsx(i,{className:"w-4 h-4"}),t.jsx(Te,{errors:r,name:e,as:t.jsx("div",{className:"label-text text-error text-xs"})})]}),Re=e=>{const{labelClassName:r,inputContainerClassName:i,inputClassName:n,descriptionClassName:o,id:l,name:u,label:d,description:c,setValue:f,errors:m,register:y,onChange:g,component:p,prefix:h,isLoading:v,..._}=e;return t.jsxs("label",{className:"form-control w-full",children:[d&&t.jsx("div",{className:"label",children:t.jsx("span",{className:"label-text",children:d})}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{name:u,...y,...l&&{id:l},className:a("input input-bordered w-full shadow",n??""),..._,onChange:e=>{g&&g(e),f&&f(u,e.target.value,{shouldDirty:!0})},onBlur:r=>{if(f)if("time"!==e.type||void 0===e.step);else{const t=r.target.value,[s,a]=t.split(":").map(Number),i=Number(e.step)/60;let n=Math.round(a/i)*i,o=s;n>=60&&(o=(s+1)%24,n=0);const l=`${String(o).padStart(2,"0")}:${String(n).padStart(2,"0")}`;f(u,l,{shouldDirty:!0})}},placeholder:v?"":e.placeholder}),v&&!["date","time"].includes(e.type??"")&&t.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xl text-gray-500",children:t.jsx("span",{className:"loading loading-dots loading-xs"})})]}),c||m&&s(u??"",m)&&t.jsxs("div",{className:"label",children:[c&&t.jsx("span",{className:"label-text",children:c}),m&&(s(u??"",m)||m[u??""])&&t.jsx(Me,{name:u??"",errors:m})]})]})};export{Me as F,Re as I,ge as a,Le as u};
