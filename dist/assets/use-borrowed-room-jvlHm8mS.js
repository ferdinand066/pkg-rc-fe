import{s as t,b as e,c as r}from"./startOfDay-Do9sk2vp.js";import{t as n}from"./isValid-5aXsojdQ.js";import{u as a}from"./useQuery-BAiGwM-i.js";import{B as o}from"./index-BmJ25h3X.js";function s(e,r){return+t(e)==+t(r)}function i(t,e){const r=n(t),a=n(e);return r.getTime()>a.getTime()}function u(t,n){const a=function(t){const e={},r=t.split(c.dateTimeDelimiter);let n;if(r.length>2)return e;/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],c.timeZoneDelimiter.test(e.date)&&(e.date=t.split(c.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length)));if(n){const t=c.timezone.exec(n);t?(e.time=n.replace(t[1],""),e.timezone=t[1]):e.time=n}return e}(t);let o;if(a.date){const t=function(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:null===o?a:100*o,restDateString:t.slice((n[1]||n[2]).length)}}(a.date,2);o=function(t,e){if(null===e)return new Date(NaN);const r=t.match(d);if(!r)return new Date(NaN);const n=!!r[4],a=f(r[1]),o=f(r[2])-1,s=f(r[3]),i=f(r[4]),u=f(r[5])-1;if(n)return function(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}(0,i,u)?function(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,o=7*(e-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}(e,i,u):new Date(NaN);{const t=new Date(0);return function(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(g[e]||(N(t)?29:28))}(e,o,s)&&function(t,e){return e>=1&&e<=(N(t)?366:365)}(e,a)?(t.setUTCFullYear(e,o,Math.max(a,s)),t):new Date(NaN)}}(t.restDateString,t.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const s=o.getTime();let i,u=0;if(a.time&&(u=function(t){const n=t.match(m);if(!n)return NaN;const a=w(n[1]),o=w(n[2]),s=w(n[3]);if(!function(t,e,r){if(24===t)return 0===e&&0===r;return r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}(a,o,s))return NaN;return a*e+o*r+1e3*s}(a.time),isNaN(u)))return new Date(NaN);if(!a.timezone){const t=new Date(s+u),e=new Date(0);return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e}return i=function(t){if("Z"===t)return 0;const n=t.match(l);if(!n)return 0;const a="+"===n[1]?-1:1,o=parseInt(n[2]),s=n[3]&&parseInt(n[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,s))return NaN;return a*(o*e+s*r)}(a.timezone),isNaN(i)?new Date(NaN):new Date(s+u+i)}const c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f(t){return t?parseInt(t):1}function w(t){return t&&parseFloat(t.replace(",","."))||0}const g=[31,null,31,30,31,30,31,31,30,31,30,31];function N(t){return t%400==0||t%4==0&&t%100!=0}const h="https://booking-api.reginacaeli.id/general/borrowed-room";class D extends o{static async getBorrowedRooms(t){try{const{data:e}=await this._get(`${h}`,t);return e.borrowedRooms}catch(e){throw new Error(e.message)}}static async getOneBorrowedRoom(t){if(!t)return null;try{const{data:e}=await this._get(`${h}/${t}`);return e.borrowedRoom}catch(e){throw new Error(e.message)}}static async createBorrowedRoom(t){try{return await this._post(`${h}`,t)}catch(e){throw new Error(e.message)}}static async updateBorrowedRoom(t,e){if(!t)return null;try{return await this._patch(`${h}/${t}`,e)}catch(r){throw new Error(r.message)}}static async deleteBorrowedRoom(t){if(t)try{return await this._delete(`${h}/${t}`,{})}catch(e){throw new Error(e.message)}}}const p=(t,e)=>{const{data:r,status:n}=a({queryKey:["general/borrowed-room",{...t,paginate:!0},e],queryFn:()=>D.getBorrowedRooms({...t,...e,paginate:!0})});return{data:r,status:n}},y=t=>{const{data:e,status:r}=a({queryKey:["general/borrowed-room",t],queryFn:()=>D.getOneBorrowedRoom(t),enabled:!!t});return{data:e,status:r}};export{D as B,s as a,y as b,i,u as p,p as u};
