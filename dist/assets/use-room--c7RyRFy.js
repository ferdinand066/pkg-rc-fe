import{u as t}from"./useQuery-Dse7ilVx.js";import{B as a}from"./index-DKCzlmL8.js";import{i as e}from"./isValid-5aXsojdQ.js";const r="https://booking-api.reginacaeli.id/general/room";class s extends a{static async getRooms(t){try{const{data:a}=await this._get(`${r}`,t);return a.rooms}catch(a){throw new Error(a.message)}}static async getOneRoom(t){if(!t)return null;try{const{data:a}=await this._get(`${r}/${t}`);return a.room}catch(a){throw new Error(a.message)}}static async getRoomAvailability(t,a){try{const{data:e}=await this._get(`${r}/availability/${t}`,a);return e.slots}catch(e){throw new Error(e.message)}}}const o=(a,e)=>{const{data:r,status:o}=t({queryKey:["general/room",{...a,paginate:e}],queryFn:()=>s.getRooms({...a,paginate:e})});return{data:r,status:o}},i=(a,r)=>{const o=!!a&&!!r.borrowing_date&&e(new Date(r.borrowing_date)),{data:i,status:n}=t({queryKey:["genera/room/availibility",a,r],queryFn:()=>s.getRoomAvailability(a,r),enabled:o&&((null==r?void 0:r.check_schedule)??!1)});return{data:i,status:n}};export{i as a,o as u};
