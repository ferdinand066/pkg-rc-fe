import{u as t}from"./useQuery-FuiwIscj.js";import{B as a}from"./index-CiWvO_dC.js";import{i as e}from"./isValid-5aXsojdQ.js";const r="https://booking-api.parokipik.org/general/room";class o extends a{static async getRooms(t){try{const{data:a}=await this._get(`${r}`,t);return a.rooms}catch(a){throw new Error(a.message)}}static async getOneRoom(t){if(!t)return null;try{const{data:a}=await this._get(`${r}/${t}`);return a.room}catch(a){throw new Error(a.message)}}static async getRoomAvailability(t,a){try{const{data:e}=await this._get(`${r}/availability/${t}`,a);return e.slots}catch(e){throw new Error(e.message)}}}const s=(a,e,r,s=!0)=>{const{data:i,status:n}=t({queryKey:["general/room",{...a,paginate:r},e],queryFn:()=>o.getRooms({...a,...e,paginate:r}),enabled:s});return{data:i,status:n}},i=(a,r)=>{const s=!!a&&!!r.borrowing_date&&e(new Date(r.borrowing_date)),{data:i,status:n}=t({queryKey:["genera/room/availibility",a,r],queryFn:()=>o.getRoomAvailability(a,r),enabled:s&&((null==r?void 0:r.check_schedule)??!1)});return{data:i,status:n}};export{i as a,s as u};
