import{r as a,u as e,m as t,j as i,b as n}from"./index-BT4yNJiJ.js";import{I as r}from"./InputText-BdcDWvtD.js";import{P as o}from"./PageHeader-Dv_8xu8d.js";import{T as s,P as m}from"./Table-BEGMAotu.js";import{u}from"./use-borrowed-room-laGMe5hN.js";import{b as d}from"./constants-5vXSpW5c.js";import{b as l,a as h,c as g,d as b,f as p}from"./format-IAjOZvHA.js";import"./useQuery-G1FIbsiR.js";import"./startOfDay-Do9sk2vp.js";import"./isValid-5aXsojdQ.js";const c={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},f={date:l({formats:{full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},defaultWidth:"full"}),time:l({formats:{full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},defaultWidth:"full"}),dateTime:l({formats:{full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},w={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},k={code:"id",formatDistance:(a,e,t)=>{let i;const n=c[a];return i="string"==typeof n?n:1===e?n.one:n.other.replace("{{count}}",e.toString()),(null==t?void 0:t.addSuffix)?t.comparison&&t.comparison>0?"dalam waktu "+i:i+" yang lalu":i},formatLong:f,formatRelative:(a,e,t,i)=>w[a],localize:{ordinalNumber:(a,e)=>"ke-"+Number(a),era:h({values:{narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},defaultWidth:"wide"}),quarter:h({values:{narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:h({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},defaultWidth:"wide"}),day:h({values:{narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},defaultWidth:"wide"}),dayPeriod:h({values:{narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},defaultWidth:"wide",formattingValues:{narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:g({matchPattern:/^ke-(\d+)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:b({matchPatterns:{narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^s/i,/^(m|e)/i]},defaultParseWidth:"any"}),quarter:b({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:b({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:b({matchPatterns:{narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:b({matchPatterns:{narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},M=[{name:"event_name",sortable:!0},{name:"room_name",sortable:!0},{name:"floor",sortable:!0},{name:"borrowed_date",sortable:!0},{name:"start_borrowing_time",sortable:!1},{name:"end_event_time",sortable:!1},{name:"pic_name",sortable:!1},{name:"status",sortable:!1}],j=()=>{const[l,h]=a.useState({page:1}),[g,b]=a.useState({order_by:"borrowed_date",data_order:"asc"}),[c,f]=a.useState(""),w=e(n),{data:j,status:y}=u(l,g),v=t(),x=(null==j?void 0:j.data.map((a=>({...{...a,borrowed_date:i.jsx("div",{className:"min-w-56 md:min-w-auto",children:p(a.borrowed_date,"EEEE, d MMMM yyyy",{locale:k})}),event_name:i.jsx("div",{className:"min-w-48 md:min-w-auto",children:a.event_name}),room_name:i.jsx("div",{className:"min-w-36 md:min-w-auto",children:a.room.name}),floor:i.jsx("div",{className:"min-w-20 md:min-w-auto",children:a.room.floor.name}),pic_name:i.jsx("div",{className:"min-w-32 md:min-w-auto",children:a.pic_name}),status:d[a.borrowed_status]},redirect:"/room-request/"+a.id}))))??[];return i.jsxs("section",{className:"flex flex-col h-full flex-1 gap-4",children:[i.jsx(o,{pageName:"Proposal Pinjam Ruang",action:1===parseInt((null==w?void 0:w.roleId)??"1")?i.jsx("button",{type:"button",onClick:()=>v("/room-request/create"),className:"btn btn-primary h-10 max-h-10 text-sm",children:"Buat Proposal"}):i.jsx(i.Fragment,{})}),i.jsxs("div",{className:"mx-6 flex flex-row items-end gap-4 justify-end",children:[i.jsx("div",{className:"w-full lg:max-w-80",children:i.jsx(r,{type:"text",value:c,onChange:a=>f(a.target.value),placeholder:"Cari..."})}),i.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>h((()=>({page:1,search:c}))),children:"Cari"})]}),i.jsx(s,{header:M,data:x??[],status:y,sortData:g,setSortData:b,enableSort:!0}),i.jsx(m,{status:y,data:j,page:l.page,setPage:h})]})};export{j as default};
