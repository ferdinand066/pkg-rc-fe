import{s as t,b as e,c as r}from"./startOfDay-Cqt31xqJ.js";import{t as n}from"./isValid-5aXsojdQ.js";import{B as a}from"./index-DuxHCDsN.js";function o(e,r){return+t(e)==+t(r)}function i(t,e){const r=n(t),a=n(e);return r.getTime()>a.getTime()}function s(t,n){const a=function(t){const e={},r=t.split(c.dateTimeDelimiter);let n;if(r.length>2)return e;/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],c.timeZoneDelimiter.test(e.date)&&(e.date=t.split(c.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length)));if(n){const t=c.timezone.exec(n);t?(e.time=n.replace(t[1],""),e.timezone=t[1]):e.time=n}return e}(t);let o;if(a.date){const t=function(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:null===o?a:100*o,restDateString:t.slice((n[1]||n[2]).length)}}(a.date,2);o=function(t,e){if(null===e)return new Date(NaN);const r=t.match(u);if(!r)return new Date(NaN);const n=!!r[4],a=d(r[1]),o=d(r[2])-1,i=d(r[3]),s=d(r[4]),c=d(r[5])-1;if(n)return function(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}(0,s,c)?function(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,o=7*(e-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}(e,s,c):new Date(NaN);{const t=new Date(0);return function(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(w[e]||(g(t)?29:28))}(e,o,i)&&function(t,e){return e>=1&&e<=(g(t)?366:365)}(e,a)?(t.setUTCFullYear(e,o,Math.max(a,i)),t):new Date(NaN)}}(t.restDateString,t.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const i=o.getTime();let s,h=0;if(a.time&&(h=function(t){const n=t.match(m);if(!n)return NaN;const a=f(n[1]),o=f(n[2]),i=f(n[3]);if(!function(t,e,r){if(24===t)return 0===e&&0===r;return r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}(a,o,i))return NaN;return a*e+o*r+1e3*i}(a.time),isNaN(h)))return new Date(NaN);if(!a.timezone){const t=new Date(i+h),e=new Date(0);return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e}return s=function(t){if("Z"===t)return 0;const n=t.match(l);if(!n)return 0;const a="+"===n[1]?-1:1,o=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,i))return NaN;return a*(o*e+i*r)}(a.timezone),isNaN(s)?new Date(NaN):new Date(i+h+s)}const c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(t){return t?parseInt(t):1}function f(t){return t&&parseFloat(t.replace(",","."))||0}const w=[31,null,31,30,31,30,31,31,30,31,30,31];function g(t){return t%400==0||t%4==0&&t%100!=0}const h="https://booking-api.parokipik.org/general/borrowed-room";class N extends a{static async getBorrowedRooms(t){try{const{data:e}=await this._get(`${h}`,t);return e.borrowedRooms}catch(e){throw new Error(e.message)}}static async getOneBorrowedRoom(t){if(!t)return null;try{const{data:e}=await this._get(`${h}/${t}`);return e.borrowedRoom}catch(e){throw new Error(e.message)}}static async createRecurringBorrowedRoom(t){try{return await this._post(`${h}/recurring`,t)}catch(e){throw new Error(e.message)}}static async createBorrowedRoom(t){try{return await this._post(`${h}`,t)}catch(e){throw new Error(e.message)}}static async updateBorrowedRoom(t,e){if(!t)return null;try{return await this._patch(`${h}/${t}`,e)}catch(r){throw new Error(r.message)}}static async deleteBorrowedRoom(t){if(t)try{return await this._delete(`${h}/${t}`,{})}catch(e){throw new Error(e.message)}}}export{N as B,o as a,i,s as p};
